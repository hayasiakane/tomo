{% extends "base.html" %}

{% block title %}个人中心 - TOMO食光{% endblock %}

{% block content %}
<style>
  main {
    padding-top: 40px;
    padding-bottom: 15px;
  }

  .profile-wrapper {
    display: flex;
    justify-content: center;
  }

  .profile-card {
    background-color: #fef1e3;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
    padding: 160px 80px 80px;
    text-align: center;
    max-width: 920px;
    width: 100%;
  }

  .profile-avatar {
    width: 160px;
    height: 160px;
    object-fit: cover;
    border-radius: 50%;
    border: 4px solid #fff;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    background: #f27b44;
    margin-bottom: 10px;
  }

  .profile-name {
    font-size: 1.8rem;
    font-weight: 600;
    color: #5c3a1a;
    margin-bottom: 20px;
  }

  .profile-info {
    font-size: 0.95rem;
    font-weight: 500;
    color: #5c3a1a;
    margin-bottom: 10px;
  }

  .profile-tags {
    margin-top: 10px;
  }

  .profile-tags span.user-badge {
    background-color: #ffe9ce;
    color: #5c3a1a;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.9rem;
    margin: 4px 6px;
    display: inline-block;
  }

  .profile-actions a {
    color: #f27b44;
    font-size: 0.95rem;
    margin: 0 12px;
    text-decoration: none;
  }

  .profile-actions a:hover {
    text-decoration: underline;
  }

  .profile-edit {
    margin-top: 20px;
  }

  .profile-edit .btn {
    background-color: #f27b44;
    color: #fff;
    border: none;
    border-radius: 20px;
    padding: 8px 28px;
    font-size: 0.95rem;
    transition: background-color 0.2s;
  }

  .profile-edit .btn:hover {
    background-color: #7a4c25;
  }
</style>

<main>
  <div class="container profile-wrapper">
    <div class="profile-card position-relative">
      <img class="profile-avatar position-absolute start-50 translate-middle-x"
        style="top: 30px;"
        src="{{ user.image if user.image else '/static/img/avatar_1.jpg' }}" alt="头像">

      <div class="mt-5 pt-3">
        <div class="profile-name">{{ user.name or "未命名用户" }}</div>
        <div class="profile-info">邮箱：{{ user.email or "--" }}</div>
        <div class="profile-info">注册时间：{{ user.createdAt.strftime('%Y-%m-%d') if user.createdAt else "--" }}</div>

        <div class="profile-tags">
          喜好：
          {% if user.tags %}
            {% for tag in user.tags %}
              <span class="user-badge">{{ tag }}</span>
            {% endfor %}
          {% else %}
            <span class="user-badge">🍰 甜品</span>
          {% endif %}
        </div>

        <div class="profile-actions my-3">
          <a href="/my-reviews"><i class="bi bi-chat-dots"></i> 发布的评价</a>
          <a href="/friends"><i class="bi bi-people"></i> 我的好友</a>
        </div>

        <div class="profile-edit">
          <a href="/edit_profile" class="btn">编辑资料</a>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock %}
